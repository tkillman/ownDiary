<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="DiaryDao">


<select id="selectGoal" parameterType="diary.vo.DiaryVo" resultType="diary.vo.GoalVo">
SELECT *
FROM GOAL
WHERE SEQ_NO='1'
</select>


<update id="updateGoal" parameterType="diary.vo.DiaryVo">

update goal
<trim prefix="SET" suffixOverrides=",">
<if test="longGoal != null">
longGoal = #{longGoal} ,
</if>
<if test=" shortGoal !=null ">
shortGoal = #{shortGoal} ,
</if>
</trim>

where seq_no=1

</update>

<insert id="insertDiary" parameterType="diary.vo.DiaryVo">

insert into diary values(#{diaryetc},#{daystr})

</insert>

<select id="countTodayData" parameterType="diary.vo.DiaryVo" resultType="int">

select count(*)
from diary
where daystr like #{daystr}

</select>

<update id="updateTodayDiary" parameterType="diary.vo.DiaryVo">

update diary 

<set>
<if test=" diaryetc !=null ">
diaryetc = #{diaryetc} 
</if>
</set>
Where daystr like #{daystr}

</update>



<select id="selectTodayDiaryData" parameterType="diary.vo.DiaryVo" resultType="diary.vo.DiaryVo">

select *
from diary
where daystr like #{today}

</select>


<select id="selectReqDiaryData" parameterType="diary.vo.DiaryVo" resultType="diary.vo.DiaryVo">
select *
from diary
where daystr = #{reqDay}
</select>

<update id="updateReqDiary" parameterType="diary.vo.DiaryVo">

update diary 

<set>
<if test=" reqDiaryetc !=null ">
diaryetc = #{reqDiaryetc} 
</if>
</set>
Where daystr like #{reqDay}

</update>

</mapper>
